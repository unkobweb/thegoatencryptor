<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Inscription - The Goat Encryptor</title>
    <link rel="stylesheet" href="/login.css">
</head>
<body>
    <video autoplay muted loop id="myVideo">
        <source src="/space-flight-loop.mp4" type="video/mp4">
    </video>
    <div id="container">
        <div id="logger">
            <pre>
                ,--._,--.
               ,'  ,'   ,-`.
        (`-.__    /  ,'   /
        `.   `--'        \__,--'-.
        `--/       ,-.  ______/
         (o-.     ,o- /
          `. ;        \
           |:          \
          ,'`       ,   \
         (o o ,  --'     :
          \--','.        ;
           `;;  :       /
            ;'  ;  ,' ,'
            ,','  :  '
            \ \   :
             `
                        </pre>
            <h1>The Goat Encryptor</h1>
            @if(flashMessages.all() !== null && flashMessages.all().auth !== undefined && flashMessages.all().auth.errors !== undefined)
                <div id="errorbox">
                  <ul>
                    @if(flashMessages.has('auth.errors.email'))
                        @each(mailError in flashMessages.get('auth.errors.email'))
                            <li>{{ mailError }}</li>
                        @endeach
                    @endif
                    @if(flashMessages.has('auth.errors.username'))
                        @each(usernameError in flashMessages.get('auth.errors.username'))
                            <li>{{ usernameError }}</li>
                        @endeach
                    @endif
                    @if(flashMessages.has('auth.errors.password'))
                        @each(passwordError in flashMessages.get('auth.errors.password'))
                            <li>{{ passwordError }}</li>
                        @endeach
                    @endif
                    @if(flashMessages.has('auth.errors.invitation_code'))
                        <li>{{ flashMessages.get('auth.errors.invitation_code') }}</li>
                    @endif
                  </ul>
                </div>
                @endif 
            <h2>Inscription</h2>
            <form action="{{ route('AuthController.register') }}" method="POST">
                {{ csrfField() }}
                <input type="text" name="email" placeholder="Adresse mail" value="{{flashMessages.get('mail') || ''}}">
                <input type="text" name="username" id="" placeholder="Nom d'utilisateur" value="{{flashMessages.get('username') || ''}}">
                <input type="password" name="password" placeholder="Mot de passe">
                <input type="password" name="password_confirmation" placeholder="Confirmez le mot de passe">
                <input type="text" name="invitation_code" placeholder="Code d'invitation" value="{{flashMessages.get('invitation_code') || ''}}">
                <input type="submit" name="submit" value="Envoyer">
            </form>
            <span>Déjà inscrit ? <a href="/login">Connectez-vous</a></span>
        </div>
    </div>
    <script src="/invitationcode.js"></script>
</body>
</html>